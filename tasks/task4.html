<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>
    <body>
        <h3>
            <a href="../index.html"> Назад</a>
        </h3>
        <p>
            Склад. База товарів, які зберігаються на складі: назва товару,
            одиниця виміру, кількість, фірма виробник (назва, реєстраційний
            номер). Організувати реєстрацію/відвантаження товарів, фільтрація за
            назвою товару, фільтрація за назвою фірми
        </p>

        <script>
        class Maker {
            constructor(title) {
                this.title = title
                this.regNumber = new Date().getTime()
            }
            toString() {
                return `${this.title} - ${this.regNumber}<br>`
            }
        }
        class Product {
            #quantity
            constructor(title, unit, quantity, companyTitle) {
                this.title = title
                this.unit = unit
                this.Quantity = quantity
                this.maker = new Maker(companyTitle)
            }
            get Quantity() {
                return this.#quantity
            }
            set Quantity(val) {
                if (val < 0) throw new Error('Incorect quantity value')
                this.#quantity = val
            }
            toString() {
                return `${this.title}, ${this.Quantity}${this.unit}, ${this.maker}<br>`
            }
        }
        class Warehouse {
            constructor(){
                this.productsList = []
            }
            registerProduct(product){
                this.productsList.push(product)
            }
            productShipment(title, val) {
                this.productsList.find(el => el.title === title).Quantity -= val
            }
            filterProductTitle(title) {
                let filtredProductsList = this.productsList.filter(
                    el => el.title === title
                )
                return filtredProductsList
            }
            filterMakerTitle(title){
                let filtredProductsList = this.productsList.filter(
                    el => el.maker.title === title
                )
                return filtredProductsList
            }
            toString() {
                return `${this.productsList.map(el => el.toString() + '<br>')}`
            }
        }
        let warehouse1 = new Warehouse()
        warehouse1.registerProduct(new Product('Сир', 'кг', 500, 'Растішка'))
        warehouse1.registerProduct(new Product('молоко', 'шт', 1200, 'Растішка'))
        warehouse1.registerProduct(
            new Product('горошок', 'шт', 1300, 'Бондюель')
        )
        console.log(warehouse1)
        warehouse1.productShipment('Сир', 333)
        console.log(warehouse1.filterProductTitle('молоко'))
        console.log(warehouse1.filterMakerTitle('Бондюель'))
        document.write(warehouse1)






//         class Maker {
//    constructor(title) {
//       this.title = title
//       this.regNumber = new Date().getTime()
//    }
//    toString() {
//       return `${this.title} - ${this.regNumber}<br>`
//    }
// }

// class Product {
//    #quantity
//    constructor(title, unit, quantity, companyTitle) {
//       this.title = title
//       this.unit = unit
//       this.Quantity = quantity
//       this.maker = new Maker(companyTitle)
//    }
//    get Quantity() {
//       return this.#quantity
//    }
//    set Quantity(val) {
//       if (val < 0) throw new Error('Incorrect quantity value')
//       this.#quantity = val
//    }
//    toString() {
//       return `${this.title}, ${this.Quantity}${this.unit}, ${this.maker}<br>`
//    }
// }

// class Warehouse {
//    constructor() {
//       this.productsList = []
//    }
//    registerProduct(product) {
//       this.productsList.push(product)
//    }
//    productShipment(title, val) {
//       this.productsList.find(el => el.title === title).Quantity -= val
//    }
//    filterProductTitle(title) {
//       let filtredProductsList = this.productsList.filter(
//          el => el.title === title
//       )
//       return filtredProductsList
//    }
//    filterMakerTitle(title) {
//       let filtredProductsList = this.productsList.filter(
//          el => el.maker.title === title
//       )
//       return filtredProductsList
//    }
//    toString() {
//       return `${this.productsList.map(el => el.toString() + '<br>')}`
//    }
// }

// let warehouse1 = new Warehouse()
// warehouse1.registerProduct(new Product('Сир', 'кг', 100, 'Rastishka'))
// warehouse1.registerProduct(new Product('молоко', 'шт', 200, 'Rastishka'))
// warehouse1.registerProduct(
//    new Product('горошок', 'шт', 120, 'Bounduel')
// )
// console.log(warehouse1)
// warehouse1.productShipment('Cup', 333)
// console.log(warehouse1.filterProductTitle('молоко'))
// console.log(warehouse1.filterMakerTitle('Bounduel'))
// document.write(warehouse1)
    </script>
    </body>
</html>